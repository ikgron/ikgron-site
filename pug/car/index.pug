doctype html
head
    meta(charset='UTF-8')
    link(rel='icon' href='/images/car_favicon2.png' type='image/x-icon')
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    title Car | ikgron
    link(rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css' integrity='sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm' crossorigin='anonymous')
    link(rel='preconnect' href='https://fonts.googleapis.com')
    link(rel='preconnect' href='https://fonts.gstatic.com' crossorigin='')
    link(href='https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap' rel='stylesheet')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/bootstrap-touchcarousel/1.2.11/bootstrap-touchcarousel.min.js')
    link(rel='stylesheet' href='../styles.css')

.bg(style='background-image: url(/images/deepslate_bricks.png);')
.vignette
.content

    //- navbar
    nav.navbar.navbar-expand-lg.navbar-dark.fixed-top.pb-1(style='background-color: #1b1b1b; align-items: center;')
      a.navbar-brand(href='/') Home
      a.navbar-brand.ml-auto.mt-auto(href='https://github.com/ikgron' target='_blank')
        img(src='/images/github.png' alt='GitHub' width='30' height='30')
      button.navbar-toggler(type='button' data-toggle='collapse' data-target='#navbarNav' aria-controls='navbarNav' aria-expanded='false' aria-label='Toggle navigation')
        span.navbar-toggler-icon
      #navbarNav.collapse.navbar-collapse
        ul.navbar-nav.ml-auto

          li.nav-item.dropdown.d-lg-none
            a#navbarDropdown.nav-link(href='/car/') Car
          li.nav-item.dropdown.d-lg-none
            a#navbarDropdown.nav-link(href='/chess/') Chess
          li.nav-item.dropdown.d-lg-none
            a#navbarDropdown.nav-link(href='/checkers/') Checkers
          li.nav-item.dropdown.d-lg-none
            a#navbarDropdown.nav-link(href='/connect4/') Connect 4
          li.nav-item.dropdown.d-lg-none

          li.nav-item.dropdown.d-none.d-lg-block
            a#navbarDropdown.nav-link.dropdown-toggle(href='#' role='button' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false')
                | Menu
            .dropdown-menu.dropdown-menu-right.bg-dark(aria-labelledby='navbarDropdown')
              a.dropdown-item.text-light.bg-transparent(href='/car/') Car
              a.dropdown-item.text-light.bg-transparent(href='/chess/') Chess
              a.dropdown-item.text-light.bg-transparent(href='/checkers/') Checkers
              a.dropdown-item.text-light.bg-transparent(href='/connect4/') Connect 4

    h1.text-light.text-center(style="font-family: 'Share Tech Mono', monospace; margin-top: 11vh; font-size: 5rem") Car
    h2.text-light.text-center 2010 Lexus ES350
    h4.text-light.text-center Satin Cashmere Metallic
    h4.text-light.text-center 2GR-FE 3.5L V6 6 Speed Automatic with Overdrive

    #imageCarousel.carousel.slide.mt-1(data-ride='carousel' data-interval='3000')
        //- Slides
        .carousel-inner
            //- Slide 1
            .carousel-item.active
                .d-flex.justify-content-center.align-items-center(style='height: 55vh;')
                    img.d-block.mx-auto(src='/images/car.png' alt='Car 1' style='max-width: 90%;')
            //- Slide 2
            .carousel-item
                .d-flex.justify-content-center.align-items-center(style='height: 55vh;')
                    img.d-block.mx-auto(src='/images/car1.png' alt='Car 2' style='max-width: 90%;')
            //- Slide 3
            .carousel-item
                .d-flex.justify-content-center.align-items-center(style='height: 55vh;')
                    img.d-block.mx-auto(src='/images/car2.png' alt='Car 3' style='max-width: 90%;')

script(src='https://code.jquery.com/jquery-3.5.1.slim.min.js')
script(src='https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js')
script(src='https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js')

//- swipe through pictures
script.
    var touchStartX = null;
    var intervalId = null;

    var carousel = $('#imageCarousel');

    $(document).ready(function () {
    startCarouselInterval();
    });

    function startCarouselInterval() {
    intervalId = setInterval(function () {
    carousel.carousel('next');
    }, 4000);
    }
    
    // wait for touch
    carousel.on('touchstart', function (e) {
    touchStartX = e.originalEvent.touches[0].clientX;
    
    // restart interval when swiped
    clearInterval(intervalId);
    });
   
    // wait for swipe end
    carousel.on('touchend', function (e) {
    var touchEndX = e.originalEvent.changedTouches[0].clientX;
    if (touchStartX - touchEndX > 50) {
    carousel.carousel('next');
    } else if (touchStartX - touchEndX < -50) {
    carousel.carousel('prev');
    }
    
    // restart interval after swipe
    startCarouselInterval();
    });
script(src='../index.js')
